---
import Navbar from "components/Navbar.astro";
import Home from "components/Home.astro";
import Layout from "layouts/Layout.astro";
import Projects from "components/Projects.astro";
import Contact from "components/Contact.astro";
---

<Layout title="Home - arbelaism">
    <Navbar />
    <Home />
    <Projects />
    <Contact />
</Layout>

<script>
    const observer = new IntersectionObserver(
        (entries) => {
            entries.forEach((entry) => {
                console.log(entry.isIntersecting);
                if (entry.isIntersecting) {
                    entry.target.classList.add("show-card");
                } else {
                    entry.target.classList.remove("show-card");
                }
            });
        },
        {
            threshold: 1,
        }
    );

    const hiddenElements = document.querySelectorAll(".hide-card");
    hiddenElements.forEach((el) => observer.observe(el));
</script>
